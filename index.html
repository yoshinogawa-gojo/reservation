<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>レストランよしの川 - 予約システム</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- ヘッダー -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <img src="logo.png" alt="レストランロゴ" class="logo-image">
            </div>
            <div class="contact-info">
                <div class="address">〒637-0043 奈良県五條市小島町449-1</div>
                <div class="phone">
                    <span class="tel-label">TEL:</span>
                    <a href="tel:0747-23-0123">0747-23-0123</a>
                </div>
                <div class="hours">
                    平日11時〜15時、土日祝11時〜15時、17時〜20時
                </div>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="main-content">
        <!-- ステップインジケーター -->
        <div class="step-indicator">
            <div class="step active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-label">人数選択</div>
            </div>
            <div class="step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-label">日付選択</div>
            </div>
            <div class="step" data-step="3">
                <div class="step-number">3</div>
                <div class="step-label">時間選択</div>
            </div>
            <div class="step" data-step="4">
                <div class="step-number">4</div>
                <div class="step-label">席選択</div>
            </div>
            <div class="step" data-step="5">
                <div class="step-number">5</div>
                <div class="step-label">お客様情報</div>
            </div>
        </div>

        <!-- ステップ1: 人数選択 -->
        <section class="step-content active" id="step-1">
            <div class="step-header">
                <h2 class="step-title">ご利用人数を選択してください</h2>
            </div>
            <div class="guest-count-selector">
                <div class="count-controls">
                    <button class="count-btn minus" type="button">-</button>
                    <span class="count-display">1</span>
                    <button class="count-btn plus" type="button">+</button>
                </div>
                <div class="count-label">名様</div>
            </div>
            <button class="next-btn" id="guest-count-next" disabled>次へ</button>
        </section>

        <!-- ステップ2: 日付選択 -->
        <section class="step-content" id="step-2">
            <div class="step-header">
                <h2 class="step-title">ご希望の日付を選択してください</h2>
            </div>
            <div class="calendar-container">
                <div class="calendar-header">
                    <button class="calendar-nav prev" id="prev-month">&lt;</button>
                    <h3 class="calendar-title" id="calendar-title"></h3>
                    <button class="calendar-nav next" id="next-month">&gt;</button>
                </div>
                <div class="calendar-grid" id="calendar-grid">
                    <!-- カレンダーはJavaScriptで生成 -->
                </div>
            </div>
            <div class="step-actions">
                <button class="back-btn" onclick="goToStep(1)">戻る</button>
                <button class="next-btn" id="date-next" disabled>次へ</button>
            </div>
        </section>

        <!-- ステップ3: 時間選択 -->
        <section class="step-content" id="step-3">
            <div class="step-header">
                <h2 class="step-title">ご希望の時間を選択してください</h2>
                <div class="selected-date" id="selected-date-display"></div>
            </div>
            <div class="time-slots" id="time-slots">
                <!-- 時間スロットはJavaScriptで生成 -->
            </div>
            <div class="step-actions">
                <button class="back-btn" onclick="goToStep(2)">戻る</button>
                <button class="next-btn" id="time-next" disabled>次へ</button>
            </div>
        </section>

        <!-- ステップ4: 席選択 -->
        <section class="step-content" id="step-4">
            <div class="step-header">
                <h2 class="step-title">お席のタイプを選択してください</h2>
                <div class="reservation-summary" id="reservation-summary"></div>
            </div>
            <div class="seat-options" id="seat-options">
                <!-- 席オプションはJavaScriptで生成 -->
            </div>
            <div class="step-actions">
                <button class="back-btn" onclick="goToStep(3)">戻る</button>
                <button class="next-btn" id="seat-next" disabled>次へ</button>
            </div>
        </section>

        <!-- ステップ5: お客様情報入力 -->
        <section class="step-content" id="step-5">
            <div class="step-header">
                <h2 class="step-title">お客様情報を入力してください</h2>
            </div>
            <form class="customer-form" id="customer-form">
                <div class="form-group">
                    <label for="customer-name">お名前 <span class="required">*</span></label>
                    <input type="text" id="customer-name" name="customerName" required>
                </div>
                <div class="form-group">
                    <label for="phone-number">お電話番号 <span class="required">*</span></label>
                    <input type="tel" id="phone-number" name="phoneNumber" required>
                </div>
                <div class="form-group">
                    <label for="email">メールアドレス <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="notes">ご要望・備考</label>
                    <textarea id="notes" name="notes" rows="3"></textarea>
                </div>
                <div class="reservation-confirm" id="final-summary"></div>
                <div class="step-actions">
                    <button type="button" class="back-btn" onclick="goToStep(4)">戻る</button>
                    <button type="submit" class="submit-btn" id="submit-reservation">予約を確定する</button>
                </div>
            </form>
        </section>

        <!-- 完了画面 -->
        <section class="step-content" id="completion">
            <div class="completion-message">
                <div class="completion-icon">✓</div>
                <h2>ご予約ありがとうございます</h2>
                <div class="reservation-number">
                    予約番号: <span id="confirmation-number"></span>
                </div>
                <div class="completion-details" id="completion-details"></div>
                <div class="completion-notes">
                    <p>確認メールをお送りしました。</p>
                    <p>ご予約の変更・キャンセルは前日までにお電話にてお願いいたします。</p>
                </div>
                <a href="reservation-check.html" class="check-reservation-btn">予約確認</a>
            </div>
        </section>
    </main>

    <!-- エラーメッセージ -->
    <div class="error-modal" id="error-modal">
        <div class="error-content">
            <div class="error-message" id="error-message"></div>
            <button class="error-close" onclick="closeError()">閉じる</button>
        </div>
    </div>

    <!-- ローディング -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">処理中...</div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/reservation.js"></script>
</body>
</html>
